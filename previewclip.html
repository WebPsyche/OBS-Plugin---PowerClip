<!doctype html>
<html>
<head>
    <title>PreviewClip</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="css/animationLibrary.css"> 

<style>
    body{
        background: rgb(14, 14, 14);
        overflow:hidden;
        margin-top:40px;
        height:100%;
        display:flex;
        justify-content:center;
        align-items: ;
        position: relative;
    }
    .h1{
        color:beige;
        margin-top:-30px;
    }
    .container, .slide{
        background: rgb(10, 9, 9);
        width:300px;
        height:168.75px;
        position:absolute;
        bottom: ;
        transition:;
        transform:translate();
        text-align: center;
        display: ;
        overflow:hidden;
    }
    .container hr{
        position: absolute;
        z-index: 1px;
        width: 10%;
        border:1px solid white;
        opacity: 0.5;
        height: 0px;
        top:50%;
    }
    .container hr:nth-child(2){
        right: 0;
    }
    .container hr:nth-child(3){
        transform: rotate(90deg);
        top:5%;
        left:50%;
        width:;
    }
    .container hr:nth-child(4){
        transform: rotate(90deg);
        left:50%;
    }
    .container hr:nth-child(5){
            left:50%;
    }
    .border1,.border2{
        background:none;
        border:1px solid white;
        width:95%;
        height:90%;
        margin:2.5%;
        position: absolute;
        opacity:0.5;
    }
    .border2{
        width:90%;
        height:80% ;
        margin:5%;
    }
    
     .container header{

     }
     .container p{
        position:;
        transform: translateY(50px);
        font-size:3vw;
     }
    
    </style>

</head>
<body onload="perform_slide()">
    <p class="h1">powerclip</p>
    <div class="container">
       <header>HEADER</header>
            <p>BODY</p>
            
    </div>


    <script>
//fit screen
var window_width = window.innerWidth
var window_height = window.innerHeight
let s = document.querySelector('div')
s.style.width = window.innerWidth - 20 + "px" 
s.style.height = s.offsetWidth/(16/9) + 'px'
window.addEventListener('resize',()=>{
 
        s.style.width = window.innerWidth - 20 + "px" 
        s.style.height = s.offsetWidth/(16/9) + 'px'
        if(window.innerHeight != window_height){
            
            if (window.innerHeight < s.offsetHeight + 50){
                s.style.height = window.innerHeight + "px"
                s.style.width = s.offsetHeight*(16/9) + "px"
            }
        }
})

// items from local storage
function getFromLocalstorage(){
    var memory = localStorage.getItem("setSlide")
    var decrypted_memory = decrypt(memory)
    var parse_memory = JSON.parse(decrypted_memory)
   return parse_memory
}
function setSlideHeader(slideInfo){
    var slide_header = document.querySelector(".container header")
    var part = slide_header.style
    var info = slideInfo.header
    slide_header.textContent = info.text;
    part.color = info.color
    part.backgroundColor = info.backgroundColor
    part.font = info.font
    part.fontSize = info.size + "vw"
    part.textAlign = info.align
    part.transformY = info.positionY
    part.transformX = info.positionX
}
function setSlideBody(slideInfo){
    var slide_body = document.querySelector(".container p")
    var part = slide_body.style
    var info = slideInfo.body
    slide_body.textContent = info.text;
    part.color = info.color
    part.backgroundColor = info.backgroundColor
    part.font = info.font
    part.fontSize = info.size + "vw"
    part.textAlign = info.align
    part.transform = `translate(${info.positionX}px,${info.positionY}px)`
}
function encrypt (encrypt){
	return window.btoa(encrypt);
}
// decrypt information
function decrypt (decrypt){
	return window.atob(decrypt);
}
function perform_slide(){
  var info =  getFromLocalstorage();
   setSlideHeader(info);
   setSlideBody(info);
}
window.addEventListener('storage', ()=>{
   perform_slide();
})

  </script>
</body>
</html>